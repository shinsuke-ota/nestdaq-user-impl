{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "SubTimeFrameHeader",
  "type": "object",
  "description": "Header for the sub-time frame",
  "oneOf": [
    { "$ref": "#/definitions/v0" },
    { "$ref": "#/definitions/v1" }
  ],
  "definitions": {
    "v0": {
      "type": "object",
      "properties": {
        "magic": { 
          "type": "integer", 
          "description": "Magic number", 
          "bitLength": 64 
        },
        "timeFrameId": { 
          "type": "integer", 
          "description": "Time frame ID", 
          "bitLength": 32 
        },
        "reserved": { 
          "type": "integer", 
          "description": "Reserved", 
          "bitLength": 32 
        },
        "femType": { 
          "type": "integer", 
          "description": "FEM type (1: L_V1, 2: H / H_V1, 3: L/L_V2, 5: H_V3, 6: LV3)", 
          "bitLength": 32,
          "enum" : [
            1, 2, 3, 5, 6
          ]
        },
        "femId": { 
          "type": "integer", 
          "description": "FEM ID (currently IP address of modules)", 
          "bitLength": 32 
        },
        "length": { 
          "type": "integer", 
          "description": "Length", 
          "bitLength": 32 
        },
        "numMessages": { 
          "type": "integer", 
          "description": "Number of messages", 
          "bitLength": 32 
        },
        "timeSec": { 
          "type": "integer", 
          "description": "Time in seconds", 
          "bitLength": 64 
        },
        "timeUSec": { 
          "type": "integer", 
          "description": "Time in microseconds", 
          "bitLength": 64 
        }
      },
      "required": [
        "magic", 
        "timeFrameId", 
        "reserved", 
        "femType", 
        "femId", 
        "length", 
        "numMessages", 
        "timeSec", 
        "timeUSec"
      ]
    },
    "v1": {
      "type": "object",
      "properties": {
        "version" : {"$ref": "header-common.json#/definitions/version"},
        "magic": {
          "$ref": "header-common.json#/definitions/magic"
        },
        "length": { "$ref": "header-common.json#/definitions/length" },
        "headerLength": { "$ref": "header-common.json#/definitions/headerLength" },
        "type": { 
          "$ref": "header-common.json#/definitions/type",
          "description": "type of the structure (1: META)",
          "enum": [1]
        },
        "timeFrameId": { 
          "type": "integer", 
          "description": "Time frame ID", 
          "bitLength": 32 
        },
        "femType": { 
          "type": "integer", 
          "description": "FEM type (1: L_V1, 2: H / H_V1, 3: L/L_V2, 5: H_V3, 6: LV3)", 
          "bitLength": 32,
          "enum": [1, 2, 3, 4, 5, 6]
        },
        "femId": { 
          "type": "integer", 
          "description": "FEM ID (currently IP address of modules)", 
          "bitLength": 32
        },
        "numMessages": { 
          "type": "integer", 
          "description": "Number of messages", 
          "bitLength": 32 
        },
        "timeSec": { 
          "type": "integer", 
          "description": "Time in seconds", 
          "bitLength": 64 
        },
        "timeUSec": { 
          "type": "integer", 
          "description": "Time in microseconds", 
          "bitLength": 64 
        }
      },
      "required": [
        "version",
        "magic", 
        "length", 
        "headerLength", 
        "type", 
        "timeFrameId", 
        "femType", 
        "femId", 
        "numMessages", 
        "timeSec", 
        "timeUSec"
      ]
    }
  }
}
