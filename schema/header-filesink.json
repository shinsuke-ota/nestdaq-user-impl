{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "FileSinkHeader",
  "type": "object",
  "oneOf" : [
    { "$ref": "#/definitions/v0" },
    { "$ref": "#/definitions/v1" }
  ],
  "definitions": {
    "v0": {
      "type": "object",
      "properties": {
        "magic": { 
          "type": "integer", 
          "description": "Magic number", 
          "bitLength": 64 
        },
        "size": { 
          "type": "integer", 
          "description": "Size", 
          "bitLength": 64 
        },
        "fairMQDeviceType": { 
          "type": "integer", 
          "description": "FairMQ device type", 
          "bitLength": 64 
        },
        "runNumber": { 
          "type": "integer", 
          "description": "Run number", 
          "bitLength": 64 
        },
        "startUnixTime": { 
          "type": "integer", 
          "description": "Start Unix time", 
          "bitLength": 64 
        },
        "stopUnixTime": { 
          "type": "integer", 
          "description": "Stop Unix time", 
          "bitLength": 64 
        },
        "comments": { 
          "type": "string", 
          "description": "Comments .. (256 characters) ", 
          "bitLength": 64,
          "maxLength": 256
        }
      },
      "required": [
        "magic", 
        "size", 
        "fairMQDeviceType", 
        "runNumber", 
        "startUnixTime", 
        "stopUnixTime", 
        "comments"
      ]
    },
    "v1": {
      "type": "object",
      "properties": {
        "version": { "$ref": "header-common.json#/properties/version" },
        "magic": { "$ref": "header-common.json#/properties/magic" },
        "length": { "$ref": "header-common.json#/properties/length" },
        "headerLength": { "$ref": "header-common.json#/properties/headerLength" },
        "type": { "$ref": "header-common.json#/properties/type" },
        "fairMQDeviceType": { 
          "type": "integer", 
          "description": "FairMQ device type", 
          "bitLength": 64 
        },
        "runNumber": { 
          "type": "integer", 
          "description": "Run number", 
          "bitLength": 64 
        },
        "startUnixTime": { 
          "type": "integer", 
          "description": "Start Unix time", 
          "bitLength": 64 
        },
        "stopUnixTime": { 
          "type": "integer", 
          "description": "Stop Unix time", 
          "bitLength": 64 
        },
        "comments": { 
          "type": "string", 
          "description": "Comments .. (256 characters) ", 
          "bitLength": 64,
          "maxLength": 256
        }
      },
      "required": [
        "version",
        "magic", 
        "size", 
        "length", 
        "headerLength", 
        "type", 
        "fairMQDeviceType", 
        "runNumber", 
        "startUnixTime", 
        "stopUnixTime", 
        "comments"
      ]
    }
  }
}
